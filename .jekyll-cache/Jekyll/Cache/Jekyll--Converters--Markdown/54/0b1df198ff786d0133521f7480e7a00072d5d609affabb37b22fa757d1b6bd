I"_ˆ<p>æœ€æ–°çš„ Centos7 å®‰è£… Docker 19.03.11,æœ¬æ–‡åŸºäºCentos7å®‰è£…æµ‹è¯•ï¼ŒåŠ¡å¿…ä¿æŒç¯å¢ƒä¸€è‡´</p>

<h1 id="å®‰è£…docker">å®‰è£…Docker</h1>

<h3 id="ç¯å¢ƒæŸ¥çœ‹">ç¯å¢ƒæŸ¥çœ‹</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1.æŸ¥çœ‹å†…æ ¸</span>
<span class="o">[</span>root@localhost yum.repos.d]# <span class="nb">uname</span> <span class="nt">-r</span>
3.10.0-693.el7.x86_64
<span class="c"># 2.æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</span>
<span class="o">[</span>root@localhost yum.repos.d]# <span class="nb">cat</span> /etc/os-release 
<span class="nv">NAME</span><span class="o">=</span><span class="s2">"CentOS Linux"</span>
<span class="nv">VERSION</span><span class="o">=</span><span class="s2">"7 (Core)"</span>
<span class="nv">ID</span><span class="o">=</span><span class="s2">"centos"</span>
<span class="nv">ID_LIKE</span><span class="o">=</span><span class="s2">"rhel fedora"</span>
<span class="nv">VERSION_ID</span><span class="o">=</span><span class="s2">"7"</span>
<span class="nv">PRETTY_NAME</span><span class="o">=</span><span class="s2">"CentOS Linux 7 (Core)"</span>
<span class="nv">ANSI_COLOR</span><span class="o">=</span><span class="s2">"0;31"</span>
<span class="nv">CPE_NAME</span><span class="o">=</span><span class="s2">"cpe:/o:centos:centos:7"</span>
<span class="nv">HOME_URL</span><span class="o">=</span><span class="s2">"https://www.centos.org/"</span>
<span class="nv">BUG_REPORT_URL</span><span class="o">=</span><span class="s2">"https://bugs.centos.org/"</span>

<span class="nv">CENTOS_MANTISBT_PROJECT</span><span class="o">=</span><span class="s2">"CentOS-7"</span>
<span class="nv">CENTOS_MANTISBT_PROJECT_VERSION</span><span class="o">=</span><span class="s2">"7"</span>
<span class="nv">REDHAT_SUPPORT_PRODUCT</span><span class="o">=</span><span class="s2">"centos"</span>
<span class="nv">REDHAT_SUPPORT_PRODUCT_VERSION</span><span class="o">=</span><span class="s2">"7"</span>

</code></pre></div></div>

<h3 id="å®‰è£…">å®‰è£…</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1.å¸è½½æ—§çš„ç‰ˆæœ¬</span>
yum remove docker <span class="se">\</span>
                  docker-client <span class="se">\</span>
                  docker-client-latest <span class="se">\</span>
                  docker-common <span class="se">\</span>
                  docker-latest <span class="se">\</span>
                  docker-latest-logrotate <span class="se">\</span>
                  docker-logrotate <span class="se">\</span>
                  docker-engine
<span class="c"># 2.éœ€è¦çš„å®‰è£…åŒ…</span>
yum <span class="nb">install</span> <span class="nt">-y</span> yum-utils
<span class="c"># 3.è®¾ç½®é˜¿é‡Œäº‘å®‰è£…é•œåƒ</span>
yum-config-manager <span class="nt">--add-repo</span> http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo 
<span class="c"># 4.å®‰è£…docker</span>
yum <span class="nb">install </span>docker-ce docker-ce-cli containerd.io
<span class="c"># 5.å¯åŠ¨docker</span>
systemctl start docker
<span class="c"># 6.æŸ¥çœ‹dockerç‰ˆæœ¬</span>
<span class="o">[</span>root@localhost yum.repos.d]# docker version
Client: Docker Engine - Community
 Version:           19.03.11
 API version:       1.40
 Go version:        go1.13.10
 Git commit:        42e35e61f3
 Built:             Mon Jun  1 09:13:48 2020
 OS/Arch:           linux/amd64
 Experimental:      <span class="nb">false

</span>Server: Docker Engine - Community
 Engine:
  Version:          19.03.11
  API version:      1.40 <span class="o">(</span>minimum version 1.12<span class="o">)</span>
  Go version:       go1.13.10
  Git commit:       42e35e61f3
  Built:            Mon Jun  1 09:12:26 2020
  OS/Arch:          linux/amd64
  Experimental:     <span class="nb">false
 </span>containerd:
  Version:          1.2.13
  GitCommit:        7ad184331fa3e55e52b890ea95e65ba581ae3429
 runc:
  Version:          1.0.0-rc10
  GitCommit:        dc9208a3303feef5b3839f4323d9beb36df0a9dd
 docker-init:
  Version:          0.18.0
  GitCommit:        fec3683

</code></pre></div></div>

<h3 id="é•œåƒåŠ é€Ÿ">é•œåƒåŠ é€Ÿ</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim /etc/docker/daemon.json <span class="c">#ä¿®æ”¹é…ç½®æ–‡ä»¶</span>
<span class="o">[</span>root@localhost ~]# more /etc/docker/daemon.json
<span class="o">{</span>
    <span class="s2">"registry-mirrors"</span>: <span class="o">[</span>
        <span class="s2">"https://docker.mirrors.ustc.edu.cn"</span>,
        <span class="s2">"https://registry.docker-cn.com"</span>
    <span class="o">]</span>
<span class="o">}</span>

<span class="c">#é‡å¯æœåŠ¡ç”Ÿæ•ˆ</span>
systemctl daemon-reload 
systemctl restart docker
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c"># 7.hello world</span>
docker run hello-world
</code></pre></div></div>

<p><img src="https://i.opsta.cn/docker/docker-helloworld.png" alt="docker-helloworld" /></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 8 æŸ¥çœ‹dockeré•œåƒ</span>
<span class="o">[</span>root@localhost yum.repos.d]# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
hello-world         latest              bf756fb1ae65        5 months ago        13.3kB
</code></pre></div></div>

<h3 id="å¸è½½">å¸è½½</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1.å¸è½½ä¾èµ–</span>
yum remove docker-ce docker-ce-cli containerd.io
<span class="c"># 2.åˆ é™¤èµ„æº</span>
<span class="nb">rm</span> <span class="nt">-rf</span> /var/lib/docker
</code></pre></div></div>

<h3 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker version #æ˜¾ç¤ºdockerçš„ç‰ˆæœ¬ä¿¡æ¯
docker info #æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯ åŒ…æ‹¬é•œåƒå’Œå®¹å™¨çš„æ•°é‡
docker å‘½ä»¤ --help #å¸®åŠ©å‘½ä»¤
</code></pre></div></div>

<p><a href="https://docs.docker.com/engine/reference/commandline/cli/">dockerå®˜æ–¹å‘½ä»¤å‚è€ƒæ‰‹å†Œ</a></p>

<h2 id="é•œåƒå‘½ä»¤">é•œåƒå‘½ä»¤</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@localhost yum.repos.d]# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
hello-world         latest              bf756fb1ae65        5 months ago        13.3kB

<span class="c"># è§£é‡Š</span>
REPOSITORY   é•œåƒçš„ä»“åº“
TAG          é•œåƒçš„æ ‡ç­¾
IMAGE ID     é•œåƒçš„ID
CREATED 	 é•œåƒçš„åˆ›å»ºæ—¶é—´
SIZE  		 é•œåƒçš„å¤§å°
<span class="c"># å¯é€‰é¡¹</span>
<span class="nt">-a</span>, <span class="nt">--all</span>   <span class="c">#åˆ—å‡ºæ‰€æœ‰çš„é•œåƒ</span>
<span class="nt">-q</span>, <span class="nt">--quiet</span> <span class="c">#åªåˆ—å‡ºé•œåƒçš„ID</span>

</code></pre></div></div>

<h3 id="docker-search-æœç´¢é•œåƒ">docker search æœç´¢é•œåƒ</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@localhost yum.repos.d]# docker search java
NAME                                     DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
node                                     Node.js is a JavaScript-based platform <span class="k">for </span>sâ€¦   8940                <span class="o">[</span>OK]                
tomcat                                   Apache Tomcat is an open <span class="nb">source </span>implementatiâ€¦   2756                <span class="o">[</span>OK]                

<span class="c">#å¯é€‰é¡¹ é€šè¿‡æœè—æ¥è¿‡æ»¤</span>
<span class="nt">--filter</span><span class="o">=</span><span class="nv">STARS</span><span class="o">=</span>3000 <span class="c">#æœç´¢å‡ºæ¥çš„é•œåƒSTARSå¤§äº3000çš„</span>
<span class="o">[</span>root@localhost /]# docker search mysql <span class="nt">--filter</span><span class="o">=</span><span class="nv">STARS</span><span class="o">=</span>3000
NAME                DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
mysql               MySQL is a widely used, open-source relationâ€¦   9645                <span class="o">[</span>OK]                
mariadb             MariaDB is a community-developed fork of MySâ€¦   3506                <span class="o">[</span>OK]      
</code></pre></div></div>

<h3 id="docker-pull-ä¸‹è½½é•œåƒ">docker pull ä¸‹è½½é•œåƒ</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@localhost /]# docker pull mysql
Using default tag: latest <span class="c">#å¦‚æœä¸å†™tag é»˜è®¤å°±æ˜¯latest</span>
latest: Pulling from library/mysql
8559a31e96f4: Pull <span class="nb">complete</span> <span class="c">#åˆ†å±‚ä¸‹è½½ docker imageçš„æ ¸å¿ƒ è”åˆæ–‡ä»¶ç³»ç»Ÿ</span>
d51ce1c2e575: Pull <span class="nb">complete 
</span>c2344adc4858: Pull <span class="nb">complete 
</span>fcf3ceff18fc: Pull <span class="nb">complete 
</span>16da0c38dc5b: Pull <span class="nb">complete 
</span>b905d1797e97: Pull <span class="nb">complete 
</span>4b50d1c6b05c: Pull <span class="nb">complete 
</span>c75914a65ca2: Pull <span class="nb">complete 
</span>1ae8042bdd09: Pull <span class="nb">complete 
</span>453ac13c00a3: Pull <span class="nb">complete 
</span>9e680cd72f08: Pull <span class="nb">complete 
</span>a6b5dc864b6c: Pull <span class="nb">complete 
</span>Digest: sha256:8b7b328a7ff6de46ef96bcf83af048cb00a1c86282bfca0cb119c84568b4caf6 <span class="c">#ç­¾å</span>
Status: Downloaded newer image <span class="k">for </span>mysql:latest
docker.io/library/mysql:latest <span class="c">#çœŸå®åœ°å€</span>

<span class="c">#æŒ‡å®šç‰ˆæœ¬ä¸‹è½½</span>
<span class="o">[</span>root@localhost /]# docker pull mysql:5.7
5.7: Pulling from library/mysql
5.7: Pulling from library/mysql
8559a31e96f4: Already exists 
d51ce1c2e575: Already exists 
c2344adc4858: Already exists 
fcf3ceff18fc: Already exists 
16da0c38dc5b: Already exists 
b905d1797e97: Already exists 
4b50d1c6b05c: Already exists 
d85174a87144: Pull <span class="nb">complete 
</span>a4ad33703fa8: Pull <span class="nb">complete 
</span>f7a5433ce20d: Pull <span class="nb">complete 
</span>3dcd2a278b4a: Pull <span class="nb">complete 
</span>Digest: sha256:32f9d9a069f7a735e28fd44ea944d53c61f990ba71460c5c183e610854ca4854
Status: Downloaded newer image <span class="k">for </span>mysql:5.7
docker.io/library/mysql:5.7

</code></pre></div></div>

<p><img src="https://i.opsta.cn/docker/docker-images-mysql.png" alt="docker-images-mysql" /></p>

<h3 id="docker-rmi-åˆ é™¤é•œåƒ">docker rmi åˆ é™¤é•œåƒ</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@localhost /]# docker rmi <span class="nt">-f</span> 9cfcce23593a <span class="c">#å¯ä»¥å†™å®¹å™¨idå’Œå®¹å™¨name</span>
<span class="o">[</span>root@localhost /]# docker rmi <span class="nt">-f</span> å®¹å™¨id å®¹å™¨id å®¹å™¨id <span class="c">#åˆ é™¤å¤šä¸ªå®¹å™¨</span>
<span class="o">[</span>root@localhost /]# docker rmi <span class="nt">-f</span> <span class="si">$(</span>docker images <span class="nt">-aq</span><span class="si">)</span> <span class="c">#åˆ é™¤å…¨éƒ¨çš„å®¹å™¨</span>

</code></pre></div></div>

<h2 id="å®¹å™¨å‘½ä»¤">å®¹å™¨å‘½ä»¤</h2>

<h3 id="æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨">æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@localhost /]# docker pull centos

docker run <span class="o">[</span>å¯é€‰å‚æ•°] image
<span class="c"># å‚æ•°è¯´æ˜</span>
<span class="nt">--name</span><span class="o">=</span><span class="s2">"Name"</span> å®¹å™¨åå­— tomcat1 tomcat2,ç”¨æ¥åŒºåˆ†å®¹å™¨
<span class="nt">-d</span> 			  åå°æ–¹å¼è¿è¡Œ
<span class="nt">-it</span> 		  ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œ è¿›å…¥å®¹å™¨æŸ¥çœ‹å†…å®¹
<span class="nt">-p</span>
	<span class="nt">-p</span> ip:ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£
	<span class="nt">-p</span> ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ <span class="o">(</span>å¸¸ç”¨<span class="o">)</span>
    <span class="nt">-p</span> å®¹å™¨ç«¯å£
    å®¹å™¨ç«¯å£
<span class="nt">-p</span>  éšæœºæŒ‡å®šç«¯å£

<span class="c">#æµ‹è¯•</span>
<span class="o">[</span>root@localhost /]# docker run <span class="nt">-it</span> centos /bin/bash
<span class="o">[</span>root@9a2366039d94 /]# <span class="nb">ls</span> <span class="c">#æŸ¥çœ‹å®¹å™¨å†…çš„centos</span>
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var

<span class="o">[</span>root@9a2366039d94 /]# <span class="nb">exit</span> <span class="c">#ä»å®¹å™¨é€€å‡º</span>
<span class="nb">exit</span>
<span class="o">[</span>root@localhost /]# Ctrl+p+q <span class="c">#å®¹å™¨ä¸åœæ­¢é€€å‡º</span>

</code></pre></div></div>

<h3 id="åˆ—å‡ºæ‰€æœ‰çš„è¿è¡Œçš„å®¹å™¨">åˆ—å‡ºæ‰€æœ‰çš„è¿è¡Œçš„å®¹å™¨</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#docker ps </span>
		<span class="c">#åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span>
<span class="nt">-a</span>      <span class="c">#åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨+å†å²è¿è¡Œè¿‡çš„å®¹å™¨</span>
<span class="nt">-n</span><span class="o">=</span>?    <span class="c">#æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºè¿‡çš„å®¹å™¨</span>
<span class="nt">-q</span>      <span class="c">#åªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å·</span>
		
<span class="o">[</span>root@localhost /]# docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
<span class="o">[</span>root@localhost /]# docker ps  <span class="nt">-a</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                          PORTS               NAMES
9a2366039d94        centos              <span class="s2">"/bin/bash"</span>         5 minutes ago       Exited <span class="o">(</span>0<span class="o">)</span> About a minute ago                       brave_ellis
3ba0098333eb        bf756fb1ae65        <span class="s2">"/hello"</span>            2 hours ago         Exited <span class="o">(</span>0<span class="o">)</span> 2 hours ago                              boring_villani
</code></pre></div></div>

<h3 id="åˆ é™¤å®¹å™¨">åˆ é™¤å®¹å™¨</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">rm </span>å®¹å™¨id    <span class="c">#åˆ é™¤æŒ‡å®šçš„å®¹å™¨</span>
docker <span class="nb">rm</span> <span class="nt">-f</span>  <span class="si">$(</span>docker images <span class="nt">-aq</span><span class="si">)</span> <span class="c">#åˆ é™¤æ‰€æœ‰å®¹å™¨</span>
docker ps <span class="nt">-a</span> <span class="nt">-q</span>|xargs docker <span class="nb">rm</span>    <span class="c">#åˆ é™¤æ‰€æœ‰å®¹å™¨</span>
</code></pre></div></div>

<h3 id="å¯åŠ¨å’Œåœæ­¢å®¹å™¨">å¯åŠ¨å’Œåœæ­¢å®¹å™¨</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start å®¹å™¨id <span class="c">#å¯åŠ¨å®¹å™¨</span>
docker restartå®¹å™¨id <span class="c">#é‡å¯å®¹å™¨</span>
docker stop å®¹å™¨id <span class="c">#åœæ­¢å®¹å™¨</span>
docker <span class="nb">kill </span>å®¹å™¨id <span class="c">#åœæ­¢å®¹å™¨</span>
</code></pre></div></div>

<h2 id="å¸¸ç”¨å‘½ä»¤-1">å¸¸ç”¨å‘½ä»¤</h2>

<h3 id="åå°å¯åŠ¨å®¹å™¨">åå°å¯åŠ¨å®¹å™¨</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å‘½ä»¤ docker run -d é•œåƒå!</span>
<span class="o">[</span>root@localhost ~]# docker run <span class="nt">-d</span> centos
1f8d666a521722368cda35dbe7f56f3b46216ea32bd59819a03affa445357269
<span class="o">[</span>root@localhost ~]# docker ps 
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
<span class="o">[</span>root@localhost ~]# 
<span class="c">#é—®é¢˜ docker ps  å‘ç°centosåœæ­¢äº†</span>
<span class="c">#dockerå®¹å™¨ä½¿ç”¨åå°è¿è¡Œ å®¹å™¨ä¸­å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹,å¦‚æœdockerå‘ç°æ²¡æœ‰ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢</span>

</code></pre></div></div>

<h3 id="æŸ¥çœ‹æ—¥å¿—">æŸ¥çœ‹æ—¥å¿—</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ˜¾ç¤ºæ—¥å¿—</span>
<span class="nt">-tf</span>  		<span class="c">#æ˜¾ç¤ºæ—¥å¿—</span>
<span class="nt">--tail</span>   	<span class="c">#æ˜¾ç¤ºæ—¥å¿—æ¡æ•°</span>
<span class="o">[</span>root@localhost ~]# docker logs <span class="nt">-tf</span> <span class="nt">--tail</span> 10 0ef56c3b0827
</code></pre></div></div>

<h3 id="æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹ä¿¡æ¯">æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹ä¿¡æ¯</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># docker top å®¹å™¨id</span>
<span class="o">[</span>root@localhost ~]# docker top 718891259ec5 
UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD
root                44346               44327               0                   20:37               pts/0               00:00:00            /bin/bash

</code></pre></div></div>

<h3 id="æŸ¥çœ‹é•œåƒçš„å…ƒæ•°æ®">æŸ¥çœ‹é•œåƒçš„å…ƒæ•°æ®</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># docker inspect  å®¹å™¨id</span>
<span class="o">[</span>root@localhost ~]# docker inspect 718891259ec5 
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"718891259ec5623c1a0969e160433fef56f54b53a78eab71954dd37ff4a682bb"</span>,
        <span class="s2">"Created"</span>: <span class="s2">"2020-06-19T12:37:59.121676336Z"</span>,
        <span class="s2">"Path"</span>: <span class="s2">"/bin/bash"</span>,
        <span class="s2">"Args"</span>: <span class="o">[]</span>,
        <span class="s2">"State"</span>: <span class="o">{</span>
            <span class="s2">"Status"</span>: <span class="s2">"running"</span>,
            <span class="s2">"Running"</span>: <span class="nb">true</span>,
            <span class="s2">"Paused"</span>: <span class="nb">false</span>,
            <span class="s2">"Restarting"</span>: <span class="nb">false</span>,
            <span class="s2">"OOMKilled"</span>: <span class="nb">false</span>,
            <span class="s2">"Dead"</span>: <span class="nb">false</span>,
            <span class="s2">"Pid"</span>: 44346,
            <span class="s2">"ExitCode"</span>: 0,
            <span class="s2">"Error"</span>: <span class="s2">""</span>,
            <span class="s2">"StartedAt"</span>: <span class="s2">"2020-06-19T12:38:00.670251197Z"</span>,
            <span class="s2">"FinishedAt"</span>: <span class="s2">"0001-01-01T00:00:00Z"</span>
        <span class="o">}</span>,
        <span class="s2">"Image"</span>: <span class="s2">"sha256:831691599b88ad6cc2a4abbd0e89661a121aff14cfa289ad840fd3946f274f1f"</span>,
        <span class="s2">"ResolvConfPath"</span>: <span class="s2">"/var/lib/docker/containers/718891259ec5623c1a0969e160433fef56f54b53a78eab71954dd37ff4a682bb/resolv.conf"</span>,
        <span class="s2">"HostnamePath"</span>: <span class="s2">"/var/lib/docker/containers/718891259ec5623c1a0969e160433fef56f54b53a78eab71954dd37ff4a682bb/hostname"</span>,
        <span class="s2">"HostsPath"</span>: <span class="s2">"/var/lib/docker/containers/718891259ec5623c1a0969e160433fef56f54b53a78eab71954dd37ff4a682bb/hosts"</span>,
        <span class="s2">"LogPath"</span>: <span class="s2">"/var/lib/docker/containers/718891259ec5623c1a0969e160433fef56f54b53a78eab71954dd37ff4a682bb/718891259ec5623c1a0969e160433fef56f54b53a78eab71954dd37ff4a682bb-json.log"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"/ecstatic_shaw"</span>,
        <span class="s2">"RestartCount"</span>: 0,
        <span class="s2">"Driver"</span>: <span class="s2">"overlay2"</span>,
        <span class="s2">"Platform"</span>: <span class="s2">"linux"</span>,
        <span class="s2">"MountLabel"</span>: <span class="s2">""</span>,
        <span class="s2">"ProcessLabel"</span>: <span class="s2">""</span>,
        <span class="s2">"AppArmorProfile"</span>: <span class="s2">""</span>,
        <span class="s2">"ExecIDs"</span>: null,
        <span class="s2">"HostConfig"</span>: <span class="o">{</span>
            <span class="s2">"Binds"</span>: null,
            <span class="s2">"ContainerIDFile"</span>: <span class="s2">""</span>,
            <span class="s2">"LogConfig"</span>: <span class="o">{</span>
                <span class="s2">"Type"</span>: <span class="s2">"json-file"</span>,
                <span class="s2">"Config"</span>: <span class="o">{}</span>
            <span class="o">}</span>,
            <span class="s2">"NetworkMode"</span>: <span class="s2">"default"</span>,
            <span class="s2">"PortBindings"</span>: <span class="o">{}</span>,
            <span class="s2">"RestartPolicy"</span>: <span class="o">{</span>
                <span class="s2">"Name"</span>: <span class="s2">"no"</span>,
                <span class="s2">"MaximumRetryCount"</span>: 0
            <span class="o">}</span>,
            <span class="s2">"AutoRemove"</span>: <span class="nb">false</span>,
            <span class="s2">"VolumeDriver"</span>: <span class="s2">""</span>,
            <span class="s2">"VolumesFrom"</span>: null,
            <span class="s2">"CapAdd"</span>: null,
            <span class="s2">"CapDrop"</span>: null,
            <span class="s2">"Capabilities"</span>: null,
            <span class="s2">"Dns"</span>: <span class="o">[]</span>,
            <span class="s2">"DnsOptions"</span>: <span class="o">[]</span>,
            <span class="s2">"DnsSearch"</span>: <span class="o">[]</span>,
            <span class="s2">"ExtraHosts"</span>: null,
            <span class="s2">"GroupAdd"</span>: null,
            <span class="s2">"IpcMode"</span>: <span class="s2">"private"</span>,
            <span class="s2">"Cgroup"</span>: <span class="s2">""</span>,
            <span class="s2">"Links"</span>: null,
            <span class="s2">"OomScoreAdj"</span>: 0,
            <span class="s2">"PidMode"</span>: <span class="s2">""</span>,
            <span class="s2">"Privileged"</span>: <span class="nb">false</span>,
            <span class="s2">"PublishAllPorts"</span>: <span class="nb">false</span>,
            <span class="s2">"ReadonlyRootfs"</span>: <span class="nb">false</span>,
            <span class="s2">"SecurityOpt"</span>: null,
            <span class="s2">"UTSMode"</span>: <span class="s2">""</span>,
            <span class="s2">"UsernsMode"</span>: <span class="s2">""</span>,
            <span class="s2">"ShmSize"</span>: 67108864,
            <span class="s2">"Runtime"</span>: <span class="s2">"runc"</span>,
            <span class="s2">"ConsoleSize"</span>: <span class="o">[</span>
                0,
                0
            <span class="o">]</span>,
            <span class="s2">"Isolation"</span>: <span class="s2">""</span>,
            <span class="s2">"CpuShares"</span>: 0,
            <span class="s2">"Memory"</span>: 0,
            <span class="s2">"NanoCpus"</span>: 0,
            <span class="s2">"CgroupParent"</span>: <span class="s2">""</span>,
            <span class="s2">"BlkioWeight"</span>: 0,
            <span class="s2">"BlkioWeightDevice"</span>: <span class="o">[]</span>,
            <span class="s2">"BlkioDeviceReadBps"</span>: null,
            <span class="s2">"BlkioDeviceWriteBps"</span>: null,
            <span class="s2">"BlkioDeviceReadIOps"</span>: null,
            <span class="s2">"BlkioDeviceWriteIOps"</span>: null,
            <span class="s2">"CpuPeriod"</span>: 0,
            <span class="s2">"CpuQuota"</span>: 0,
            <span class="s2">"CpuRealtimePeriod"</span>: 0,
            <span class="s2">"CpuRealtimeRuntime"</span>: 0,
            <span class="s2">"CpusetCpus"</span>: <span class="s2">""</span>,
            <span class="s2">"CpusetMems"</span>: <span class="s2">""</span>,
            <span class="s2">"Devices"</span>: <span class="o">[]</span>,
            <span class="s2">"DeviceCgroupRules"</span>: null,
            <span class="s2">"DeviceRequests"</span>: null,
            <span class="s2">"KernelMemory"</span>: 0,
            <span class="s2">"KernelMemoryTCP"</span>: 0,
            <span class="s2">"MemoryReservation"</span>: 0,
            <span class="s2">"MemorySwap"</span>: 0,
            <span class="s2">"MemorySwappiness"</span>: null,
            <span class="s2">"OomKillDisable"</span>: <span class="nb">false</span>,
            <span class="s2">"PidsLimit"</span>: null,
            <span class="s2">"Ulimits"</span>: null,
            <span class="s2">"CpuCount"</span>: 0,
            <span class="s2">"CpuPercent"</span>: 0,
            <span class="s2">"IOMaximumIOps"</span>: 0,
            <span class="s2">"IOMaximumBandwidth"</span>: 0,
            <span class="s2">"MaskedPaths"</span>: <span class="o">[</span>
                <span class="s2">"/proc/asound"</span>,
                <span class="s2">"/proc/acpi"</span>,
                <span class="s2">"/proc/kcore"</span>,
                <span class="s2">"/proc/keys"</span>,
                <span class="s2">"/proc/latency_stats"</span>,
                <span class="s2">"/proc/timer_list"</span>,
                <span class="s2">"/proc/timer_stats"</span>,
                <span class="s2">"/proc/sched_debug"</span>,
                <span class="s2">"/proc/scsi"</span>,
                <span class="s2">"/sys/firmware"</span>
            <span class="o">]</span>,
            <span class="s2">"ReadonlyPaths"</span>: <span class="o">[</span>
                <span class="s2">"/proc/bus"</span>,
                <span class="s2">"/proc/fs"</span>,
                <span class="s2">"/proc/irq"</span>,
                <span class="s2">"/proc/sys"</span>,
                <span class="s2">"/proc/sysrq-trigger"</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"GraphDriver"</span>: <span class="o">{</span>
            <span class="s2">"Data"</span>: <span class="o">{</span>
                <span class="s2">"LowerDir"</span>: <span class="s2">"/var/lib/docker/overlay2/023249bbfd4df4b3f0dcbc9be7ca09d187f71ed0bc5059ce525e58aca1adf1ae-init/diff:/var/lib/docker/overlay2/08a0e1d413960f76d1f62861f7ec8641eec1789495f2199397ad63f853d775b9/diff"</span>,
                <span class="s2">"MergedDir"</span>: <span class="s2">"/var/lib/docker/overlay2/023249bbfd4df4b3f0dcbc9be7ca09d187f71ed0bc5059ce525e58aca1adf1ae/merged"</span>,
                <span class="s2">"UpperDir"</span>: <span class="s2">"/var/lib/docker/overlay2/023249bbfd4df4b3f0dcbc9be7ca09d187f71ed0bc5059ce525e58aca1adf1ae/diff"</span>,
                <span class="s2">"WorkDir"</span>: <span class="s2">"/var/lib/docker/overlay2/023249bbfd4df4b3f0dcbc9be7ca09d187f71ed0bc5059ce525e58aca1adf1ae/work"</span>
            <span class="o">}</span>,
            <span class="s2">"Name"</span>: <span class="s2">"overlay2"</span>
        <span class="o">}</span>,
        <span class="s2">"Mounts"</span>: <span class="o">[]</span>,
        <span class="s2">"Config"</span>: <span class="o">{</span>
            <span class="s2">"Hostname"</span>: <span class="s2">"718891259ec5"</span>,
            <span class="s2">"Domainname"</span>: <span class="s2">""</span>,
            <span class="s2">"User"</span>: <span class="s2">""</span>,
            <span class="s2">"AttachStdin"</span>: <span class="nb">true</span>,
            <span class="s2">"AttachStdout"</span>: <span class="nb">true</span>,
            <span class="s2">"AttachStderr"</span>: <span class="nb">true</span>,
            <span class="s2">"Tty"</span>: <span class="nb">true</span>,
            <span class="s2">"OpenStdin"</span>: <span class="nb">true</span>,
            <span class="s2">"StdinOnce"</span>: <span class="nb">true</span>,
            <span class="s2">"Env"</span>: <span class="o">[</span>
                <span class="s2">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span>
            <span class="o">]</span>,
            <span class="s2">"Cmd"</span>: <span class="o">[</span>
                <span class="s2">"/bin/bash"</span>
            <span class="o">]</span>,
            <span class="s2">"Image"</span>: <span class="s2">"centos"</span>,
            <span class="s2">"Volumes"</span>: null,
            <span class="s2">"WorkingDir"</span>: <span class="s2">""</span>,
            <span class="s2">"Entrypoint"</span>: null,
            <span class="s2">"OnBuild"</span>: null,
            <span class="s2">"Labels"</span>: <span class="o">{</span>
                <span class="s2">"org.label-schema.build-date"</span>: <span class="s2">"20200611"</span>,
                <span class="s2">"org.label-schema.license"</span>: <span class="s2">"GPLv2"</span>,
                <span class="s2">"org.label-schema.name"</span>: <span class="s2">"CentOS Base Image"</span>,
                <span class="s2">"org.label-schema.schema-version"</span>: <span class="s2">"1.0"</span>,
                <span class="s2">"org.label-schema.vendor"</span>: <span class="s2">"CentOS"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"NetworkSettings"</span>: <span class="o">{</span>
            <span class="s2">"Bridge"</span>: <span class="s2">""</span>,
            <span class="s2">"SandboxID"</span>: <span class="s2">"e95fd62687e905550f2052f80362370f565d1e201cc2d37c45ba4dcc4f9975aa"</span>,
            <span class="s2">"HairpinMode"</span>: <span class="nb">false</span>,
            <span class="s2">"LinkLocalIPv6Address"</span>: <span class="s2">""</span>,
            <span class="s2">"LinkLocalIPv6PrefixLen"</span>: 0,
            <span class="s2">"Ports"</span>: <span class="o">{}</span>,
            <span class="s2">"SandboxKey"</span>: <span class="s2">"/var/run/docker/netns/e95fd62687e9"</span>,
            <span class="s2">"SecondaryIPAddresses"</span>: null,
            <span class="s2">"SecondaryIPv6Addresses"</span>: null,
            <span class="s2">"EndpointID"</span>: <span class="s2">"d3b1128ead012a85991473f2353d2b37e4f68a34f6eab5e05e240b1da1f5c2c4"</span>,
            <span class="s2">"Gateway"</span>: <span class="s2">"172.17.0.1"</span>,
            <span class="s2">"GlobalIPv6Address"</span>: <span class="s2">""</span>,
            <span class="s2">"GlobalIPv6PrefixLen"</span>: 0,
            <span class="s2">"IPAddress"</span>: <span class="s2">"172.17.0.3"</span>,
            <span class="s2">"IPPrefixLen"</span>: 16,
            <span class="s2">"IPv6Gateway"</span>: <span class="s2">""</span>,
            <span class="s2">"MacAddress"</span>: <span class="s2">"02:42:ac:11:00:03"</span>,
            <span class="s2">"Networks"</span>: <span class="o">{</span>
                <span class="s2">"bridge"</span>: <span class="o">{</span>
                    <span class="s2">"IPAMConfig"</span>: null,
                    <span class="s2">"Links"</span>: null,
                    <span class="s2">"Aliases"</span>: null,
                    <span class="s2">"NetworkID"</span>: <span class="s2">"5bc82b228aae9d7965bd8db477b3d0e89a96195c68746ce1577852e3c7d6891c"</span>,
                    <span class="s2">"EndpointID"</span>: <span class="s2">"d3b1128ead012a85991473f2353d2b37e4f68a34f6eab5e05e240b1da1f5c2c4"</span>,
                    <span class="s2">"Gateway"</span>: <span class="s2">"172.17.0.1"</span>,
                    <span class="s2">"IPAddress"</span>: <span class="s2">"172.17.0.3"</span>,
                    <span class="s2">"IPPrefixLen"</span>: 16,
                    <span class="s2">"IPv6Gateway"</span>: <span class="s2">""</span>,
                    <span class="s2">"GlobalIPv6Address"</span>: <span class="s2">""</span>,
                    <span class="s2">"GlobalIPv6PrefixLen"</span>: 0,
                    <span class="s2">"MacAddress"</span>: <span class="s2">"02:42:ac:11:00:03"</span>,
                    <span class="s2">"DriverOpts"</span>: null
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">]</span>

</code></pre></div></div>

<h3 id="è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨">è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">exec</span> <span class="nt">-it</span> å®¹å™¨id 


<span class="o">[</span>root@localhost ~]# docker <span class="nb">exec</span> <span class="nt">-it</span> e4026153e96b /bin/bash
<span class="o">[</span>root@e4026153e96b /]# ps <span class="nt">-aux</span>
USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root          1  0.0  0.1  12008  2104 pts/0    Ss+  12:36   0:00 /bin/bash
root         14  0.0  0.1  12008  1948 pts/1    Ss+  13:41   0:00 /bin/sh
root         20  0.0  0.0  12008  1684 pts/2    Ss+  13:42   0:00 /bin/sh
root         25  0.3  0.1  12008  2108 pts/3    Ss   13:42   0:00 /bin/bash
root         38  0.0  0.1  47496  2060 pts/3    R+   13:42   0:00 ps <span class="nt">-aux</span>
<span class="c"># æ–¹å¼äºŒ</span>
docker attach å®¹å™¨id 
docker attach  e4026153e96b
<span class="c"># docker exec # è¿›å…¥å®¹å™¨åå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯åœ¨é‡Œé¢æ“ä½œ</span>
<span class="c"># docker attach  # è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ ä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹</span>
</code></pre></div></div>

<h3 id="ä»å®¹å™¨å†…æ‹·è´ä¸œè¥¿åˆ°å®¿ä¸»æœº">ä»å®¹å™¨å†…æ‹·è´ä¸œè¥¿åˆ°å®¿ä¸»æœº</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[root@localhost ~]# docker attach e4026153e96b
[root@e4026153e96b /]# echo 123 &gt;a.txt
[root@e4026153e96b /]# echo 123 a.txtread escape sequence
[root@localhost ~]# ls
anaconda-ks.cfg  initial-setup-ks.cfg
[root@localhost ~]# docker cp e4026153e96b:/a.txt ./
[root@localhost ~]# ls
anaconda-ks.cfg  a.txt  initial-setup-ks.cfg
[root@localhost ~]# more a.txt 
123
</code></pre></div></div>

<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>

<p><a href="https://juejin.im/post/5b260ec26fb9a00e8e4b031a#heading-21">æ˜é‡‘</a> <a href="https://docs.docker.com/">å®˜ç½‘</a> <a href="https://www.bilibili.com/video/BV1og4y1q7M4?">ç‹‚ç¥è¯´Docker</a></p>
:ET